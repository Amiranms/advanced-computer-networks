[ req ]
#default_bits		= 2048
#default_md		= sha256
#default_keyfile 	= privkey.pem
distinguished_name	= req_distinguished_name
attributes		= req_attributes
x509_extensions = req_extensions 

[ ca ]
default_ca = CA_default

[ crl_ext ]
authorityKeyIdentifier=keyid:always

[ req_distinguished_name ]
countryName			= RU
countryName_min			= 2
countryName_max			= 2
stateOrProvinceName		= Moscow
localityName			= Moscow
0.organizationName		= mstoyanau
organizationalUnitName		= mstoyanau P1_1
commonName			= mstoyanau Intermediate CA
commonName_max			= 64
emailAddress			= mstoian.au@phystech.edu
emailAddress_max		= 64

[ req_attributes ]
challengePassword		= A challenge password
challengePassword_min		= 4
challengePassword_max		= 20

[ req_extensions ] 
basicConstraints = critical, CA:TRUE, pathlen:0
keyUsage = critical, digitalSignature, keyCertSign, cRLSign
extendedKeyUsage = critical, OCSPSigning
subjectKeyIdentifier = hash

[ CA_default ] 
dir               = /Users/amiran/Programs/insecon-2024/P1_1/intermediate_cert
#certs             = $dir/certs
#crl_dir           = $dir/crl
database          = $dir/index.txt
new_certs_dir     = $dir/newcerts
#serial            = $dir/interm.srl
#crlnumber         = $dir/crlnumber
crl               = $dir/crl/intermediateCA.crl
private_key       = $dir/interm.key
certificate       = $dir/interm.crt

default_crl_days  = 30
default_md        = sha256
preserve          = no
